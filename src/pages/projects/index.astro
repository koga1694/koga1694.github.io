---
import { getCollection } from 'astro:content';
import PageLayout from '../../layouts/PageLayout.astro';
import ProjectCard from '../../components/projects/ProjectCard.astro';

const projects = await getCollection('projects');
const sortedProjects = projects.sort(
  (a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
);
---

<PageLayout
  title="Projects"
  description="Interactive tools and projects for AI/ML development"
>
  <div class="grid gap-8">
    {
      sortedProjects.map((project) => (
        <ProjectCard
          title={project.data.title}
          description={project.data.description}
          publishDate={project.data.publishDate}
          tags={project.data.tags}
          category={project.data.category}
          techStack={project.data.techStack}
          slug={project.slug}
        />
      ))
    }
    {
      sortedProjects.length === 0 && (
        <p class="text-center text-gray-500 dark:text-gray-400 py-12">
          No projects yet. Check back soon!
        </p>
      )
    }
  </div>
</PageLayout>
